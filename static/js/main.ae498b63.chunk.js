(this.webpackJsonpregistrerings_app=this.webpackJsonpregistrerings_app||[]).push([[0],{155:function(e,t,a){},157:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),o=a.n(l),i=(a(96),a(97),a(44)),c=a(23),s=a(75),m=a.n(s).a.initializeApp({apiKey:"AIzaSyBqaan7l7Fezfeb3ShpSrweCvBhpEN1_TI",authDomain:"registringsapp.firebaseapp.com",databaseURL:"https://registringsapp.firebaseio.com",projectId:"registringsapp",storageBucket:"registringsapp.appspot.com",messagingSenderId:"44658578047",appId:"1:44658578047:web:156ed57e2919a75847654a",measurementId:"G-GDBQTZL2DE"}),u=a(76),g=a.n(u),p=(a(124),a(77)),d=a.n(p),f=a(205),E=a(192),h=a(193),y=a(158),b=a(194),v=a(207),k=a(195),j=a(196),x=a(197),w=a(198),C=a(206),B=a(209),T=a(202),S=a(201),I=a(204),O=(a(155),a(146).promisify),z=(a(149),function(){var e=r.a.useState([{name:"",phone:"",email:"",time:"",status:0}]),t=Object(c.a)(e,2),a=t[0],n=t[1],l=r.a.useState(!1),o=Object(c.a)(l,2),s=o[0],u=o[1],p=r.a.useState(!1),z=Object(c.a)(p,2),N=z[0],P=z[1],A=r.a.useState(!0),L=Object(c.a)(A,2),R=L[0],D=L[1],H=r.a.useState(""),_=Object(c.a)(H,2),F=_[0],G=_[1],J=r.a.useState(""),V=Object(c.a)(J,2),W=V[0],$=V[1],q=r.a.useState("07:00"),K=Object(c.a)(q,2),Q=K[0],U=K[1],Z=r.a.useState(!1),M=Object(c.a)(Z,2),X=M[0],Y=M[1],ee=r.a.useState(!1),te=Object(c.a)(ee,2);te[0],te[1];r.a.useEffect((function(){return ge(),function(){D(!0)}}),[a,N]),r.a.useEffect((function(){ce()})),r.a.useEffect((function(){pe()}),[Q,a.length]);var ae=O(setTimeout),ne=function(e){return r.a.createElement("div",null,r.a.createElement(f.a,{open:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement("h3",{className:"PrimaryTextColor"},"Bekreft registrering"),r.a.createElement("h3",{className:"PrimaryTextColor",style:{color:"red"}},Q),r.a.createElement(E.a,null,r.a.createElement(h.a,null,a.map((function(e,t){var a=e.name+" - "+e.phone;return r.a.createElement(y.a,{key:t},r.a.createElement(b.a,null,t+1),r.a.createElement(v.a,{primary:a}))})))),r.a.createElement(k.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(j.a,null,r.a.createElement(x.a,{onClick:re,variant:"outlined",color:"secondary"},"Avbryt"),r.a.createElement(x.a,{onClick:le,color:"primary",variant:"outlined",autoFocus:!0},"Bekreft")))))},re=function(){u(!s)},le=function(){try{a.forEach((function(e){m.firestore().collection("HEV").doc("tiendebyttefrokost2020").collection(Q).doc(e.name).set({name:e.name,phone:e.phone,email:e.email,time:Q,status:0})}))}catch(t){console.log(t)}try{e=a,g.a.post("/api",e,{headers:{Authorization:"968da4e7-a366-41d6-871d-79a0fc987fff"}}).then((function(e){console.log(e)}))}catch(t){console.log(t)}var e;u(!1),ae(2e3),Y(!0)},oe=function(){return r.a.createElement(f.a,{"aria-labelledby":"simple-dialog-title",open:X},r.a.createElement("h2",{className:"PrimaryTextColor",style:{marginLeft:10,marginRight:10}},"Registrering vellykket !",r.a.createElement("br",null),"Din billett kommer p\xe5 E-post.",r.a.createElement("br",null)," Om ikke billeten skulle komme, sjekk s\xf8ppepost !"),r.a.createElement(w.a,{style:{fontSize:70,color:"#4BB543",margin:"auto",marginTop:20,marginBottom:40}},"done"),r.a.createElement(x.a,{variant:"contained",style:{margin:10,backgroundColor:"#4BB543"},onClick:ie},"Hurra !"))},ie=function(){P(!1),Y(!1),n([{name:"",phone:"",email:"",time:"",status:0}]),window.location.replace("https://helgelandevent.no/tiendebytte/program/")},ce=function(){try{m.firestore().collection("HEV").doc("tiendebyttefrokost2020").collection(Q).onSnapshot((function(e){var t=e.size?e.size:0,n=150-t-a.length,r=150-t;G(n),$(r)}))}catch(e){console.log(e)}},se=function(e,t,r){var l=Object(i.a)(a);if("phone"==r){(""===e.target.value||/^[0-9\b]+$/.test(event.target.value))&&(l[t][r]=e.target.value,n(l))}else l[t][r]=e.target.value,n(l)},me=function(e){var t=Object(i.a)(a);t.splice(-1,1),n(t)},ue=function(){n([].concat(Object(i.a)(a),[{name:"",phone:"",email:"",time:"",status:0}]))},ge=function(){var e=0,t=0;a.forEach((function(a){t+=1,""==!a.name&&""==!a.phone&&""==!a.email&&a.email.includes("@")&&(e+=1)})),e==t&&N&&F>0&&D(!1)},pe=function(){var e=Object(i.a)(a);e.forEach((function(t,a){e[a].time=Q,n(e)}))};return r.a.createElement("div",{className:"BillBord"},r.a.createElement(oe,null),r.a.createElement(ne,{color:"sucess",string:"Bekreft"}),r.a.createElement(k.a,{container:!0,justify:"space-evenly",alignItems:"center"},r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement("h1",{className:"headerText PrimaryTextColor",style:{marginLeft:10,marginRight:10}},"Tiendebyttefrokost"),r.a.createElement("h4",{className:"PrimaryTextColor"},"15.september 2020"))),r.a.createElement("div",null,a.map((function(e,t){return r.a.createElement(k.a,{key:t,container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(k.a,{item:!0,xs:12,sm:12,md:4},r.a.createElement(C.a,{color:"secondary",value:e.name,onChange:function(e){return se(e,t,"name")},label:"Navn"})),r.a.createElement(k.a,{item:!0,xs:12,sm:12,md:4},r.a.createElement(C.a,{color:"secondary",value:e.phone,onChange:function(e){return se(e,t,"phone")},label:"Telefon"})),r.a.createElement(k.a,{item:!0,xs:12,sm:12,md:4},r.a.createElement(C.a,{color:"secondary",label:"E-mail",value:e.email,onChange:function(e){return se(e,t,"email")}})),r.a.createElement(k.a,{item:!0,xs:12,sm:12,md:12,style:{marginTop:40}},1!==a.length&&a.length-1===t&&r.a.createElement(x.a,{size:"small",variant:"outlined",color:"secondary",onClick:me},r.a.createElement(w.a,null,"remove"),"fjern"),a.length-1===t&&a.length<8&&0==!F&&r.a.createElement(x.a,{style:{marginLeft:5},size:"small",variant:"contained",color:"primary",onClick:ue},r.a.createElement(w.a,null,"add"),"Legg til deltaker")))}))),r.a.createElement(k.a,{container:!0,justify:"space-evenly",alignItems:"center"},r.a.createElement(k.a,{item:!0,xs:12,style:{marginTop:30,color:"white"}},r.a.createElement(B.a,{id:"simple-select-label",style:{fontSize:"25px"}},"Tidspunkt"),r.a.createElement(T.a,{labelId:"simple-select-label",id:"simple-select",value:Q,onChange:function(e){U(e.target.value)},style:{fontSize:"25px",color:"red"}},r.a.createElement(S.a,{value:"07:00"},"07:00"),r.a.createElement(S.a,{value:"08:00"},"08:00"),r.a.createElement(S.a,{value:"09:00"},"09:00"),r.a.createElement(S.a,{value:"10:00"},"10:00"),r.a.createElement(S.a,{value:"11:00"},"11:00")))),r.a.createElement(k.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(k.a,{item:!0,style:{marginTop:20}},r.a.createElement(x.a,{variant:"outlined",style:{backgroundColor:"rgba(233,244,244,.7)"},onClick:function(){window.open("uploads/Personvernerkl\xe6ring.pdf")}},"Retningslinjer")),r.a.createElement(k.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(k.a,{item:!0},r.a.createElement(I.a,{checked:N,onChange:function(e){P(e.target.checked)},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement(k.a,{item:!0},r.a.createElement("h4",{className:"PrimaryTextColor",style:{flex:"wrap"}},"Bekreft at du har lest retningslinjene f\xf8r bestilling")))),r.a.createElement(k.a,{item:!0,xs:!0},r.a.createElement("h2",{className:"PrimaryTextColor",style:{textAlign:"center",flex:"wrap"}},"Tilgjengelige biletter : ",F)),r.a.createElement(k.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center",style:{marginTop:40,marginBottom:40}},W>0?r.a.createElement(x.a,{disabled:R,variant:"contained",color:"primary",onClick:function(){u(!0)}},"Registrer"):r.a.createElement("h2",{style:{color:"red"}},"Frokost med servering ",Q," er fullbooket!",r.a.createElement("br",null),"Pr\xf8v et annet tidspunkt.")),r.a.createElement(k.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start"},r.a.createElement(k.a,{item:!0,style:{marginBottom:40}},r.a.createElement("img",{src:d.a,alt:"hsb logo"}))))}),N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(z,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e,t,a){e.exports=a.p+"static/media/HSB_sponsorlogo.cec9d786.png"},91:function(e,t,a){e.exports=a(157)},96:function(e,t,a){},97:function(e,t,a){}},[[91,1,2]]]);
//# sourceMappingURL=main.ae498b63.chunk.js.map